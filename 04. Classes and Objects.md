# Classes and Objects (LLD & Interview Ready)

---

## 1️⃣ What is a Class?

### WHY – Why do we need a class?

In real software systems, we must:
- Manage **complexity**
- Model **real-world entities**
- Avoid duplicated logic
- Build **maintainable, testable, extensible** systems

A **class** gives us:
- A **single source of truth** for behavior
- A **clear contract** for what an entity can do
- A **structured way** to model business concepts

Without classes:
- Code becomes procedural, repetitive, and fragile
- Changes ripple everywhere
- Systems don’t scale well (especially in enterprise apps)

---

### WHAT – What exactly is a class?

#### Simple definition
> A **class is a blueprint** that defines the **data (state)** and **behavior** of an entity.

#### Technical definition
> A **class** is a user-defined reference type that encapsulates **fields, properties, methods, and constructors**, serving as a template from which **objects (instances)** are created.

---

### HOW – How is a class represented in C#?

### Key Characteristics of a Class

1. **State** – data the class holds
2. **Behavior** – operations the class performs
3. **Blueprint nature** – no real existence until instantiated
4. **Abstraction** – exposes what to do, hides how it’s done

---

### Real-world analogy

**Restaurant Order Form**
- The form defines:
  - Fields (CustomerName, Items, TotalPrice)
  - Actions (CalculateBill, PlaceOrder)
- The form itself is not an order
- Each filled form = an actual order

➡️ The form = **Class**
➡️ Filled form = **Object**

---

### Production-style C# Class Example

```csharp
public class BankAccount
{
    // STATE (Data)
    public string AccountNumber { get; private set; }
    public string AccountHolderName { get; private set; }
    public decimal Balance { get; private set; }

    // CONSTRUCTOR
    public BankAccount(string accountNumber, string accountHolderName, decimal initialBalance)
    {
        AccountNumber = accountNumber;
        AccountHolderName = accountHolderName;
        Balance = initialBalance;
    }

    // BEHAVIOR
    public void Deposit(decimal amount)
    {
        if (amount <= 0)
            throw new ArgumentException("Deposit amount must be positive");

        Balance += amount;
    }

    public void Withdraw(decimal amount)
    {
        if (amount <= 0)
            throw new ArgumentException("Withdrawal amount must be positive");

        if (amount > Balance)
            throw new InvalidOperationException("Insufficient balance");

        Balance -= amount;
    }
}
```

#### Line-by-line explanation (important for interviews)

- `public class BankAccount` → Defines a **business entity**
- Properties → Represent **state**, not raw fields (encapsulation)
- `private set` → Prevents uncontrolled modification
- Constructor → Forces object to be created in a **valid state**
- Methods → Represent **business rules**, not just getters/setters

---

### Class Structure Diagram

```
+----------------------+
|      BankAccount     |
+----------------------+
| - AccountNumber      |
| - AccountHolderName  |
| - Balance            |
+----------------------+
| + Deposit()          |
| + Withdraw()         |
+----------------------+
```

---

## 2️⃣ What is an Object?

### WHY – Why do objects exist if we already have classes?

- A class is only a **definition**
- Software works with **real data**
- We need **independent copies** of data

➡️ Objects allow the same class to represent **multiple real entities** simultaneously.

---

### WHAT – What is an object?

#### Simple definition
> An **object** is a **real instance** of a class with actual data.

#### Difference between class and object

| Class | Object |
|-----|------|
| Blueprint | Actual thing |
| No memory for data | Occupies memory |
| Defined once | Can have many |

---

### HOW – How object creation works in memory (simplified)

- **Stack** → Holds references (variable names)
- **Heap** → Holds actual objects

```csharp
BankAccount acc = new BankAccount("A101", "Abhijeet", 5000);
```

- `acc` → stored on stack (reference)
- `BankAccount object` → stored on heap

---

### Real-world analogy

- **Blueprint of a house** → Class
- **Actual houses built** → Objects
- Multiple houses can come from the same blueprint

---

### Diagram – One class, multiple objects

```
Class: BankAccount
        |
        | creates
        v
+---------------+   +---------------+   +---------------+
| Account A101  |   | Account A102  |   | Account A103  |
| Balance: 5000 |   | Balance: 8000 |   | Balance: 2000 |
+---------------+   +---------------+   +---------------+
```

---

## 3️⃣ Creating Objects in C#

### Using `new`

```csharp
BankAccount acc1 = new BankAccount("A101", "Abhijeet", 5000);
BankAccount acc2 = new BankAccount("A102", "Rahul", 8000);
```

### Step-by-step what happens internally

1. Memory allocated on heap
2. Constructor is called
3. Properties initialized
4. Reference returned to stack variable

---

### Data isolation per object

```csharp
acc1.Deposit(1000);
acc2.Withdraw(2000);
```

- Each object maintains its **own state**
- Changes in one object do **not** affect another

---

## 4️⃣ Interview Perspective

### Common Interview Questions

**Q1: Why can’t we directly work without classes?**

- Classes enforce structure
- Enable OOP principles
- Improve testability and scalability

---

**Q2: What happens if a class has no objects?**

- It exists only as metadata
- No memory allocated for instance data

---

**Q3: Why are classes reference types in C#?**

- To allow shared behavior
- Enable polymorphism
- Avoid copying large data structures

---

### Google-style “What if” Questions

**What if every property is public?**
- Breaks encapsulation
- Business rules can be bypassed

**What if we put logic outside the class?**
- Violates single responsibility
- Leads to anemic models

---

### Common Beginner Mistakes

- Creating classes with only getters/setters
- Treating classes as data bags
- Too many responsibilities in one class
- Confusing class with object

---

## 5️⃣ Summary (Mental Model)

### One-page mental model

```
Class  →  Blueprint / Definition
Object →  Real thing / Instance
Many objects ← One class
```

---

### Class vs Object Comparison

| Aspect | Class | Object |
|-----|------|------|
| Exists at runtime | No | Yes |
| Memory allocated | No | Yes |
| Purpose | Define | Use |
| Quantity | One | Many |

---

### When to create a class vs reuse

Create a new class when:
- Concept has its own identity
- Has state + behavior
- Changes independently

Reuse existing class when:
- Same responsibility
- Same lifecycle
- No new business rules

---

✅ **Interview takeaway**

> *A class models a concept. An object represents reality. Good design means putting behavior where the data lives.*

---


